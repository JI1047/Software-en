<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>항공 예약 상세 페이지</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
        }
        .container {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        select, input[type="number"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
        }
        .total-price {
            font-size: 20px;
            color: #d9534f;
            font-weight: bold;
            text-align: right;
            margin-top: 20px;
        }
        .reserve-button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #5cb85c;
            color: white;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .reserve-button:hover {
            background-color: #4cae4c;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>항공 예약 상세 페이지</h1>

    <!-- 항공편 정보 -->
    <div class="form-group">
        <p><strong>출발지:</strong> <span th:text="${route.departure}">인천</span></p>
        <p><strong>도착지:</strong> <span th:text="${route.arrival}">제주</span></p>
        <p><strong>출발 시간:</strong> <span th:text="${route.departure_time}">14:25</span></p>
        <p><strong>도착 시간:</strong> <span th:text="${route.arrival_time}">18:55</span></p>
    </div>

    <!-- 좌석 등급 선택 -->
    <div class="form-group">
        <label for="seatClass">좌석 등급</label>
        <select id="seatClass" onchange="calculateTotal()">
            <option value="economy" data-price="50000">이코노미 (50,000원)</option>
            <option value="business" data-price="100000">비즈니스 (100,000원)</option>
            <option value="first" data-price="200000">퍼스트 (200,000원)</option>
        </select>
    </div>

    <!-- 인원 선택 -->
    <div class="form-group">
        <label for="adultCount">성인 수</label>
        <input type="number" id="adultCount" value="1" min="1" max="10" onchange="calculateTotal()">
    </div>
    <div class="form-group">
        <label for="childCount">아동 수</label>
        <input type="number" id="childCount" value="0" min="0" max="10" onchange="calculateTotal()">
    </div>

    <!-- 총 가격 -->
    <div class="total-price">
        총 가격: <span id="totalPrice">0</span> 원
    </div>

    <!-- 예약 버튼 -->
    <button class="reserve-button" onclick="reserve()">예약하기</button>
</div>

<script type="text/javascript">
    function calculateTotal() {
        const seatClassSelect = document.getElementById("seatClass");
        const seatPrice = parseInt(seatClassSelect.options[seatClassSelect.selectedIndex].getAttribute("data-price"));

        const adultCount = parseInt(document.getElementById("adultCount").value);
        const childCount = parseInt(document.getElementById("childCount").value);

        // 성인은 선택한 좌석 등급의 전체 가격, 아동은 50% 할인된 가격
        const totalPrice = (adultCount * seatPrice) + (childCount * seatPrice * 0.5);

        document.getElementById("totalPrice").textContent = totalPrice.toLocaleString();
    }

    function reserve() {
        alert("예약이 완료되었습니다!");
        // 예약 처리 로직을 추가할 수 있습니다.
    }

    // 페이지가 로드될 때 초기 총 가격을 계산합니다.
    calculateTotal();
</script>
</body>
</html>
